import{_ as T,d as p}from"./vue-layout.vue_vue_type_script_setup_true_lang-Dd9kIAe8.js";import{d as h,L as C,h as B,j as L,i as N,k as R,b as v,a as t,o as l,_ as D,c as f,w as u,q as n,e as x,v as s,N as I,x as r,p as g,t as $}from"./main-CE88ee4Q.js";import{_ as z}from"./VErrorMessage.vue_vue_type_script_setup_true_lang-U_TlgEzX.js";import{_ as S}from"./VNavbar.vue_vue_type_script_setup_true_lang-GcHfqelS.js";import{$ as W}from"./use-fetch-CNl_4VEC.js";import{u as E}from"./use-swrv-ttgJgnvy.js";const M=h({__name:"VChart",props:{symbol:{default:"BTCUSD"},interval:{default:"D"},autosize:{type:Boolean,default:!0}},setup(d){const c=C(),a=B(),i=L(()=>c.value?"dark":"light");N(i,()=>{m()});function m(){if(!a.value){console.warn("TradingView widget container not found.");return}const o=a.value.querySelector(".tradingview-widget-container__widget");o&&(o.innerHTML="");const e=document.createElement("script");e.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",e.async=!0,e.innerHTML=JSON.stringify({autosize:d.autosize,symbol:d.symbol,interval:d.interval,timezone:"Etc/UTC",theme:i.value,style:"1",locale:"en",allow_symbol_change:!0,calendar:!1,support_host:"https://www.tradingview.com"}),o==null||o.appendChild(e)}return R(()=>{m()}),(o,e)=>(l(),v("div",{ref_key:"el",ref:a,class:"tradingview-widget-container",style:{height:"100%",width:"100%"}},e[0]||(e[0]=[t("div",{class:"tradingview-widget-container__widget",style:{height:"calc(100% - 32px)",width:"100%"}},null,-1),t("div",{class:"tradingview-widget-copyright"},[t("a",{href:"https://www.tradingview.com/",rel:"noopener nofollow",target:"_blank"},[t("span",{class:"blue-text"},"Track all markets on TradingView")])],-1)]),512))}}),j=D(M,[["__scopeId","data-v-cd4a316a"]]),q={class:"h-full"},H={class:"mt-3 grid md:grid-cols-5 lg:grid-cols-3 gap-3 h-[calc(100dvh-8rem)] overflow-y-auto"},O={key:0,class:"md:col-span-5 lg:col-span-3 h-full"},P={key:1,class:"md:col-span-5 lg:col-sapn-3 flex items-center justify-center h-full w-full"},U={key:2,class:"contents"},J={class:"md:col-span-5 lg:col-span-3 grid md:grid-cols-3 gap-3"},A={class:"v-card bg-gradient-y"},F={class:"mt-4 text-right text-2xl md:text-3xl font-semibold"},G={class:"v-card"},K={class:"mt-4 text-right text-2xl md:text-3xl font-semibold"},Q={class:"v-card"},X={class:"mt-4 text-right text-2xl md:text-3xl font-semibold"},Y={class:"v-card"},Z={class:"mt-4 text-right text-2xl md:text-3xl font-semibold"},tt={class:"v-card"},et={class:"mt-4 text-right text-2xl md:text-3xl font-semibold"},st={class:"v-card"},at={class:"grid grid-cols-3 gap-2"},ot={class:"md:col-span-5 lg:col-span-3 v-card h-[30rem] md:h-80"},pt=h({__name:"dashboard",setup(d){const{isLoading:c,data:a,error:i,mutate:m}=E("/api/users/me/dashboard",W);return(o,e)=>{const w=S,b=I,y=z,_=$("RouterLink"),k=j,V=T;return l(),f(V,{name:"user"},{default:u(()=>[t("div",q,[n(w),t("div",H,[s(c)?(l(),v("div",O,[s(c)?(l(),f(b,{key:0})):x("",!0)])):s(i)?(l(),v("div",P,[n(y,{error:s(i),"should-retry":"",onRetry:e[0]||(e[0]=nt=>s(m)())},null,8,["error"])])):s(a)?(l(),v("div",U,[t("div",J,[t("div",A,[e[1]||(e[1]=t("div",{class:"flex items-center gap-1 text-white"},[t("span",{class:"pi pi-wallet"}),t("p",{class:"text-sm"},"Wallet Balance")],-1)),t("div",F,r(s(p).format(s(a).overview.walletBalance)),1)]),t("div",G,[e[2]||(e[2]=t("div",{class:"flex items-center gap-1 text-mute"},[t("span",{class:"pi pi-briefcase"}),t("p",{class:"text-sm"},"Open Investments")],-1)),t("div",K,r(s(a).overview.activeInvestments),1)]),t("div",Q,[e[3]||(e[3]=t("div",{class:"flex items-center gap-1 text-mute"},[t("span",{class:"pi pi-money-bill"}),t("p",{class:"text-sm"},"Total Investments")],-1)),t("div",X,r(s(p).format(s(a).overview.totalInvestmentDeposit)),1)]),t("div",Y,[e[4]||(e[4]=t("div",{class:"flex items-center gap-1 text-mute"},[t("span",{class:"pi pi-replay"}),t("p",{class:"text-sm"},"Total Investment Returns")],-1)),t("div",Z,r(s(p).format(s(a).overview.totalReturns)),1)]),t("div",tt,[e[5]||(e[5]=t("div",{class:"flex items-center gap-1 text-mute"},[t("span",{class:"pi pi-lock"}),t("p",{class:"text-sm"},"Non-withdrawable Returns")],-1)),t("div",et,r(s(p).format(s(a).overview.nonWithdrawableReturns)),1)]),t("div",st,[t("div",at,[n(_,{to:{name:"user-investment-plans"},class:"text-sm font-semibold rounded-xl p-3 bg-primary-500 hover:bg-primary-400 text-white gap-1 flex-col-center transition-colors"},{default:u(()=>e[6]||(e[6]=[t("span",{class:"pi pi-arrow-circle-right"},null,-1),g(" Invest ")])),_:1,__:[6]}),n(_,{to:{name:"user-deposit-currencies"},class:"text-sm font-semibold rounded-xl p-3 bg-slate-100 hover:bg-slate-200 transition-colors dark:bg-slate-800 dark:hover:bg-slate-700 gap-1 flex-col-center"},{default:u(()=>e[7]||(e[7]=[t("span",{class:"pi pi-arrow-circle-down"},null,-1),g(" Deposit ")])),_:1,__:[7]}),n(_,{to:{name:"user-withdrawal-initialize"},class:"text-sm font-semibold rounded-xl p-3 bg-slate-100 hover:bg-slate-200 transition-colors dark:bg-slate-800 dark:hover:bg-slate-700 gap-1 flex-col-center"},{default:u(()=>e[8]||(e[8]=[t("span",{class:"pi pi-arrow-circle-up"},null,-1),g(" Withdraw ")])),_:1,__:[8]})])])]),t("div",ot,[e[9]||(e[9]=t("p",{class:"text-sm mb-2"},"Personalized Trading Chart",-1)),n(k)])])):x("",!0)])])]),_:1})}}});export{pt as default};
