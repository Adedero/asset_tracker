import{_ as R,t as f}from"./vue-layout.vue_vue_type_script_setup_true_lang-Dd9kIAe8.js";import{a as A,s as k}from"./index-DXvl-esB.js";import{s as U}from"./index-Cf5x4JsD.js";import{_ as O}from"./VCard.vue_vue_type_script_setup_true_lang-va0MW3Xd.js";import{_ as P}from"./VErrorMessage.vue_vue_type_script_setup_true_lang-U_TlgEzX.js";import{d as G,aG as W,U as v,bu as B,j as p,c as h,w as a,a as r,q as e,b as q,e as z,v as n,N as F,x as i,t as K,p as u,n as j,o as _}from"./main-CE88ee4Q.js";import{_ as H}from"./VNavbar.vue_vue_type_script_setup_true_lang-GcHfqelS.js";import{$ as J}from"./use-fetch-CNl_4VEC.js";import{u as Q}from"./use-swrv-ttgJgnvy.js";import{I as X}from"./iconify-0_DS-cBL.js";import"./index-BGiSEDGv.js";import"./index-Drofbpnb.js";import"./index-wutX35Rh.js";import"./index-BPNPmUFq.js";import"./index-DHTAa8Us.js";import"./index-B88Wmsvc.js";import"./bundle-mjs-CLJs87Zn.js";const Z={class:"mt-2"},ee={key:2,class:"md:h-[calc(100dvh-8.5rem)] md:overflow-y-auto"},te={class:"grid gap-2 md:grid-cols-3"},ae={class:"text-2xl font-semibold text-right"},se={class:"text-2xl font-semibold text-right"},ne={class:"text-2xl font-semibold text-right"},oe={class:"text-2xl font-semibold text-right"},re={class:"text-2xl font-semibold text-right"},ie={class:"text-2xl font-semibold text-right"},de={class:"w-full overflow-auto"},me={class:"w-full overflow-auto"},le={class:"text-sm font-medium"},Ie=G({__name:"dashboard",setup(ce){const{isLoading:C,data:d,error:x,mutate:S}=Q("/api/admins/me/dashboard",J),D=W("ddd, MMMM DD, YYYY h:mm:ss AA"),T=v(B(),D),y=p(()=>T.value.split(" ")),$=p(()=>{const s=y.value;return`${s[0]} ${s[1]} ${s[2]} ${s[3]}`}),M=p(()=>{const s=y.value;return`${s[4]} ${s[5]}`});function g(s){return s==="DEPOSIT"?{icon:"ic:baseline-arrow-circle-down",color:"text-primary-500"}:s==="WITHDRAWAL"?{icon:"ic:baseline-arrow-circle-up",color:"text-red-500"}:s==="INVESTMENT"?{icon:"ic:baseline-spa",color:"text-green-500"}:{icon:"ic:baseline-payments",color:"text-green-500"}}function I(s){return s==="SUCCESSFUL"?"success":s==="PENDING"?"warn":"danger"}function N(s){return s==="OPEN"?"success":s==="CLOSED"?"info":"danger"}return(s,l)=>{const Y=H,V=F,E=P,m=O,c=K("RouterLink"),o=k,b=U,w=A,L=R;return _(),h(L,{name:"admin"},{default:a(()=>[r("div",null,[e(Y),r("div",Z,[n(C)?(_(),h(V,{key:0})):n(x)?(_(),h(E,{key:1,error:n(x),request:"GET",onRetry:l[0]||(l[0]=t=>n(S)())},null,8,["error"])):n(d)?(_(),q("div",ee,[r("div",te,[e(c,{to:{name:"admin-users"}},{default:a(()=>[e(m,{header:"Users"},{default:a(()=>[r("div",ae,i(n(d).overview.usersCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-users"}},{default:a(()=>[e(m,{header:"Admins"},{default:a(()=>[r("div",se,i(n(d).overview.adminsCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-investments"}},{default:a(()=>[e(m,{header:"Open Investments"},{default:a(()=>[r("div",ne,i(n(d).overview.openInvestmentsCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-currencies"}},{default:a(()=>[e(m,{header:"Currencies"},{default:a(()=>[r("div",oe,i(n(d).overview.currenciesCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-investment-plans"}},{default:a(()=>[e(m,{header:"Investment Plans"},{default:a(()=>[r("div",re,i(n(d).overview.investmentPlansCount),1)]),_:1})]),_:1}),e(m,{header:$.value},{default:a(()=>[r("div",ie,i(M.value),1)]),_:1},8,["header"])]),e(m,{header:"Recent Investments",class:"mt-2"},{default:a(()=>[r("div",de,[e(w,{value:n(d).overview.recentInvestments,selectionMode:"single",dataKey:"id",onRowSelect:l[1]||(l[1]=t=>s.$router.push({name:"admin-investment-item",params:{investment_id:t.data.id}})),class:"text-sm min-w-[70rem]"},{default:a(()=>[e(o,{field:"investmentName",header:"Investment"}),e(o,{field:"investmentTier",header:"Tier"}),e(o,{header:"Status"},{body:a(({data:t})=>[e(b,{class:"text-xs font-semibold",severity:N(t.investmentStatus),value:n(f)(t.investmentStatus)},null,8,["severity","value"])]),_:1}),e(o,{field:"user.name",header:"User"}),e(o,{field:"amount",header:"Amount"},{body:a(({data:t})=>[u(" $"+i(t.initialDeposit.toLocaleString()),1)]),_:1}),e(o,{field:"duration",header:"Duration (days)"}),e(o,{field:"daysCompleted",header:"Days Completed (days)"}),e(o,{header:"Created On"},{body:a(({data:t})=>[u(i(n(v)(new Date(t.createdAt),"MMM DD, YYYY")),1)]),_:1})]),_:1},8,["value"])])]),_:1}),e(m,{header:"Recent Transactions",class:"mt-2"},{default:a(()=>[r("div",me,[e(w,{value:n(d).overview.recentTransactions,selectionMode:"single",dataKey:"id",onRowSelect:l[2]||(l[2]=t=>s.$router.push({name:"admin-transaction-item",params:{transaction_id:t.data.id}})),class:"text-sm min-w-[40rem]"},{default:a(()=>[e(o,{header:"Type"},{body:a(({data:t})=>[r("div",{class:j(["flex items-center gap-1",g(t.transactionType).color])},[e(n(X),{style:{"font-size":"20px"},icon:g(t.transactionType).icon},null,8,["icon"]),r("p",le,i(n(f)(t.transactionType)),1)],2)]),_:1}),e(o,{field:"user.name",header:"User"}),e(o,{field:"amount",header:"Amount"},{body:a(({data:t})=>[u(" $"+i(t.amountInUSD.toLocaleString()),1)]),_:1}),e(o,{header:"Medium"},{body:a(({data:t})=>[u(i(t.isWireTransfer?"Wire transfer":t.isGiftCard?"Gift card":"Crypto"),1)]),_:1}),e(o,{header:"Status"},{body:a(({data:t})=>[e(b,{class:"text-xs font-semibold",severity:I(t.transactionStatus),value:n(f)(t.transactionStatus)},null,8,["severity","value"])]),_:1}),e(o,{header:"Created On"},{body:a(({data:t})=>[u(i(n(v)(new Date(t.createdAt),"MMM DD, YYYY")),1)]),_:1})]),_:1},8,["value"])])]),_:1})])):z("",!0)])])]),_:1})}}});export{Ie as default};
