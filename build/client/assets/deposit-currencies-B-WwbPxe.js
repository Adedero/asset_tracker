import{_ as q,s as A}from"./vue-layout.vue_vue_type_script_setup_true_lang-BNFQYZFa.js";import{_ as E}from"./SvgIcon.vue_vue_type_script_setup_true_lang-D89MLd0f.js";import{_ as L}from"./VCard.vue_vue_type_script_setup_true_lang-7nJJ2y1E.js";import{_ as U}from"./VErrorMessage.vue_vue_type_script_setup_true_lang-CPslCPqh.js";import{d as G,Q as M,h as f,k as j,c as b,w as a,a as s,q as t,p as _,s as P,D as Q,b as x,e as O,v as l,N as Z,V as H,F as J,f as K,x as X,o as u}from"./main-DbwiCszp.js";import{s as Y,a as ee}from"./index-BTOBbVlU.js";import{s as se}from"./index-TDOKOudS.js";import{_ as te}from"./VNavbar.vue_vue_type_script_setup_true_lang-VZ6PBI-e.js";import{$ as oe}from"./use-fetch-CkegAda4.js";import{u as ae}from"./use-swrv-DVUkzGGN.js";import"./bundle-mjs-CLJs87Zn.js";import"./iconify-D-TZBpbX.js";import"./index-DeLv1j-i.js";import"./index-BxwU-vK-.js";import"./index-55yS1M7a.js";const le="/assets/giftcard-BVTQZqwg.png",ne="/assets/new-Cnplh55_.png",re={class:"h-full"},ie={class:"grid gap-4"},ue={class:"grid gap-1"},de={class:"flex items-center justify-end gap-2"},me={class:"mt-2 overflow-y-auto md:h-[calc(100dvh-8rem)]"},ce={key:1,class:"flex-center"},pe={key:2,class:"w-full grid gap-2 grid-cols-[repeat(auto-fill,minmax(250px,1fr))]"},fe={class:"flex flex-col items-center gap-2 z-10"},_e=["src"],ve=["src"],ge={class:"flex flex-col items-center gap-2"},be={class:"flex flex-col items-center gap-2"},xe=["src"],$e={class:"font-medium"},Ae=G({__name:"deposit-currencies",setup(ke){const $=H(),k=M(),c=f(!1),r=f(!1),i=f(),d=f(0),{isLoading:V,data:y,error:h,mutate:z}=ae(()=>"/api/users/me/currencies",oe),w=n=>{c.value=!0,d.value=0,r.value=n===null,n&&(i.value=n)},N=()=>{var n,e,p;k.depositRequest={amount:d.value,isWireTransfer:r.value,currencyName:r.value?"WIRE_TRANSFER":((n=i.value)==null?void 0:n.name)||"Dollar",currencyAbbr:r.value?"USD":((e=i.value)==null?void 0:e.abbr)||"USD",currencySymbol:r.value?"$":((p=i.value)==null?void 0:p.symbol)||"$"},$.push({name:"user-deposit-initialize"})};return j(()=>{k.depositRequest=null}),(n,e)=>{const p=te,C=ee,R=se,S=Y,m=P,T=Q,B=Z,W=U,v=A,g=L,F=E,I=q;return u(),b(I,{name:"user"},{default:a(()=>{var D;return[s("div",re,[t(p,null,{left:a(()=>e[6]||(e[6]=[s("h1",{class:"cursor-context-menu text-lg font-semibold text-primary-500 dark:text-primary-400"}," Deposit Options ",-1)])),_:1}),t(T,{visible:c.value,"onUpdate:visible":e[2]||(e[2]=o=>c.value=o),modal:"",header:r.value?"Wire Transfer":`${(D=i.value)==null?void 0:D.name} Deposit`,class:"md:w-96 dark:bg-slate-900"},{default:a(()=>[s("div",ie,[s("div",ue,[e[9]||(e[9]=s("label",{class:"text-mute font-semibold text-sm"},[_(" Amount "),s("span",{class:"font-normal"},"($10 - $100,000)")],-1)),t(S,{class:"w-full *:dark:bg-slate-800"},{default:a(()=>[t(C,null,{default:a(()=>e[7]||(e[7]=[_("$")])),_:1,__:[7]}),t(R,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),min:10,max:1e5,minFractionDigits:0,maxFractionDigits:2,class:"w-full *:dark:bg-slate-800"},null,8,["modelValue"]),t(C,null,{default:a(()=>e[8]||(e[8]=[_(".00")])),_:1,__:[8]})]),_:1}),e[10]||(e[10]=s("small",null,[_("Minimum deposit amount: "),s("span",{class:"font-semibold"},"$10")],-1))]),s("div",de,[t(m,{onClick:e[1]||(e[1]=o=>{c.value=!1,i.value=void 0}),severity:"secondary",label:"Cancel",class:"dark:bg-slate-700 dark:border-slate-700 dark:hover:bg-slate-600"}),t(m,{onClick:N,disabled:!d.value,label:"Proceed"},null,8,["disabled"])])])]),_:1},8,["visible","header"]),s("div",me,[l(V)?(u(),b(B,{key:0})):l(h)?(u(),x("div",ce,[t(W,{error:l(h),"should-retry":"",onRetry:e[3]||(e[3]=o=>l(z)())},null,8,["error"])])):l(y)?(u(),x("div",pe,[t(g,{header:"Gift Card","header-class":"z-10 text-white",class:"relative overflow-hidden z-[1]"},{default:a(()=>[s("div",fe,[s("img",{src:l(ne),width:"90px",class:"z-10"},null,8,_e)]),t(v,{class:"bg-white border-white z-10"}),t(m,{onClick:e[4]||(e[4]=o=>l($).push({name:"user-deposit-gift-card"})),size:"small",label:"Deposit",fluid:"",class:"z-10"}),s("img",{class:"brightness-120 w-full h-full object-cover absolute left-0 top-0 z-0",src:l(le),alt:"gift card"},null,8,ve)]),_:1}),t(g,{header:"Wire Transfer"},{default:a(()=>[s("div",ge,[t(F,{size:"40",name:"money-transfer"}),e[11]||(e[11]=s("p",{class:"font-medium"},"Wire / Bank Transfer",-1))]),t(v),t(m,{onClick:e[5]||(e[5]=o=>w(null)),size:"small",label:"Deposit",fluid:""})]),_:1}),(u(!0),x(J,null,K(l(y).currencies,o=>(u(),b(g,{key:o.name,header:o.name},{default:a(()=>[s("div",be,[s("img",{src:o.image||"",width:"40",class:"rounded-full"},null,8,xe),s("p",$e,X(o.abbr),1)]),t(v),t(m,{onClick:ye=>w(o),size:"small",label:"Deposit",fluid:""},null,8,["onClick"])]),_:2},1032,["header"]))),128))])):O("",!0)])])]}),_:1})}}});export{Ae as default};
